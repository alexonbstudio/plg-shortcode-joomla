<?php/** * @package	Plugin for Joomla! * @subpackage  plg_shortcode * @version	4.0 * @author	AlexonBalangue.me * @copyright	(C) 2012-2016 Alexon Balangue. All rights reserved. * @license	GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html *///no direct acceesdefined ('_JEXEC') or die('resticted aceess');/**********************Category CSS********************************///Grid/****How to use Grid totaly[bsgridrow]	[bsgrid grid='6']code here ou texte[/bsgrid]		[bsgrid grid='6']code here ou texte[/bsgrid]	[/bsgridrow]--------OR-------[bsgridrow]	[bsgrid xs='6' sm='4' md='4' lg='4']code here ou texte[/bsgrid]		[bsgrid xs='6' sm='4' md='4' lg='4']code here ou texte[/bsgrid]		[bsclearfix xs='xs' /]	[bsgrid xs='12' sm='4' md='4' lg='4']code here ou texte[/bsgrid]	[/bsgridrow]****///[bsgridrow]code here ou texte[/bsgridrow]if(!function_exists('bsgridrow_sc')) {	function bsgridrow_sc( $atts, $content) {        ob_start();         ?>           <div class="row"><?php echo do_bbcodes($content); ?></div>        <?php        return ob_get_clean();	}			add_bbcodes( 'bsgridrow', 'bsgridrow_sc' );}//[bsgrid xs='12' sm='6' md='4' lg='4']code here ou texte[/bsgrid]//[bsgrid grid="12"]code here ou texte[/bsgrid]if(!function_exists('bsgrid_sc')) {	function bsgrid_sc( $atts, $content) {		extract(bbcodes_atts(array(				'xs' => '',				'sm' => '',				'md' => '',				'lg' => '',				'grid' => '',				'offsetxs' => '',				'offsetsm' => '',				'offsetmd' => '',				'offsetlg' => '',				'offset' => '',				'pushxs' => '',				'pushsm' => '',				'pushmd' => '',				'pushlg' => '',				'push' => '',				'pullxs' => '',				'pullsm' => '',				'pullmd' => '',				'pulllg' => '',				'pull' => '',				'more' => ''		 ), $atts));		 		$option = ($xs !='') ? ' col-xs-'.$xs : '';		$option .= ($sm !='') ? ' col-sm-'.$sm : '';		$option .= ($md !='') ? ' col-md-'.$md : '';		$option .= ($lg !='') ? ' col-lg-'.$lg : '';		$option .= ($grid !='') ? 'col-xs-'.$grid.' col-sm-'.$grid.' col-md-'.$grid.' col-lg-'.$grid : '';		$option .= ($offsetxs !='') ? ' col-xs-offset-'.$offsetxs : '';		$option .= ($offsetsm !='') ? ' col-sm-offset-'.$offsetsm : '';		$option .= ($offsetmd !='') ? ' col-md-offset-'.$offsetmd : '';		$option .= ($offsetlg !='') ? ' col-lg-offset-'.$offsetlg : '';		$option .= ($offset !='') ? 'col-xs-offset-'.$offset.' col-sm-offset-'.$offset.' col-md-offset-'.$offset.' col-lg-offset-'.$offset : '';		$option .= ($pushxs !='') ? ' col-xs-push-'.$pushxs : '';		$option .= ($pushsm !='') ? ' col-sm-push-'.$pushsm : '';		$option .= ($pushmd !='') ? ' col-md-push-'.$pushmd : '';		$option .= ($pushlg !='') ? ' col-lg-push-'.$pushlg : '';		$option .= ($push !='') ? 'col-xs-push-'.$push.' col-sm-push-'.$push.' col-md-push-'.$push.' col-lg-push-'.$push : '';		$option .= ($pullxs !='') ? ' col-xs-pull-'.$pullxs : '';		$option .= ($pullsm !='') ? ' col-sm-pull-'.$pullsm : '';		$option .= ($pullmd !='') ? ' col-md-pull-'.$pullmd : '';		$option .= ($pulllg !='') ? ' col-lg-pull-'.$pulllg : '';		$option .= ($pull !='') ? 'col-xs-pull-'.$pull.' col-sm-pull-'.$pull.' col-md-pull-'.$pull.' col-lg-pull-'.$pull : '';		$option .= ($more !='') ? ' '.$more : '';		return '<div class="'.$option.'">'.do_bbcodes($content).'</div>';	}			add_bbcodes( 'bsgrid', 'bsgrid_sc' );}//Table//[bstable]code here ou texte[/bstable]if(!function_exists('bstable_sc')) {	function bstable_sc( $atts, $content) {        ob_start(); //responsive table default        ?>		   <div class="table-responsive">				<table class="table">					<?php echo do_bbcodes($content); ?>				</table>			</div>        <?php        return ob_get_clean();	}			add_bbcodes( 'bstable', 'bstable_sc' );}//Form//[bsform form='inline']code here ou texte[/bsform]if(!function_exists('bsform_sc')) {	function bsform_sc( $atts, $content) {		extract(bbcodes_atts(array(				'form' => 'form-horizontal',				'action' => '',				'method' => 'post'		 ), $atts));		 		$option = ($form !='') ? ' class="'.$form.'"' : ' class="form-inline"';		$option .= ($action !='') ? ' action="'.$action.'"' : ' action="#"';		$option .= ($method !='') ? ' method="'.$method.'"' : ' method="get"';		return '<form'.$option.' role="form">					<div class="form-group">						'.do_bbcodes($content).'					</div>				</form>';	}			add_bbcodes( 'bsform', 'bsform_sc' );}//Button//[bsbutton button='warning' size='lg']code here ou texte[/bsbutton]if(!function_exists('bsbutton_sc')) {	function bsbutton_sc( $atts, $content) {		extract(bbcodes_atts(array(				'button' => '',				'size' => '',				'other' => ''		 ), $atts));		 		$option = ($button !='') ? ' btn-'.$button : '';		$option .= ($size !='') ? ' btn-'.$size : '';		$option .= ($other !='') ? ' '.$other : '';		return '<button class="btn'.$option.'">						'.do_bbcodes($content).'				</button>';	}			add_bbcodes( 'bsbutton', 'bsbutton_sc' );}//Images//[bsshape src='//link.tld/images.png' alt='title' img='circle' /]code here ou texteif(!function_exists('bsshape_sc')) {	function bsshape_sc( $atts, $content) {		extract(bbcodes_atts(array(				'src' => '',				'alt' => '',				'img' => '',				'mdataprop' => 'images'		 ), $atts));		 		$option = ($img !='') ? ' img-'.$img : '';		$images = ($alt !='') ? ' alt="'.$alt.'"' : '';		$images .= ($src !='') ? ' src="'.$src.'"' : '';		$images .= ($mdataprop !='') ? ' itemprop="'.$mdataprop.'"' : '';		return '<img'.$images.' class="'.$option.'">'.$content;	}			add_bbcodes( 'bsshape', 'bsshape_sc' );}//Helper//[bstext-color tag="div" textcolor="default" more="class css"]code here ou texte[/bstext-color]if(!function_exists('bstextcolor_sc')) {	function bstextcolor_sc( $atts, $content) {		extract(bbcodes_atts(array(				'tag' => '',				'textcolor' => '',				'more' => ''		 ), $atts));		 		$taghtml = ($tag !='') ? $tag : '';		$option = ($textcolor !='') ? ' text-'.$textcolor : '';		$option .= ($more !='') ? ' '.$more : '';		return '<'.$taghtml.' class="'.$option.'">'.do_bbcodes($content).'</'.$taghtml.'>';	}			add_bbcodes( 'bstext-color', 'bstextcolor_sc' );}//[bsbg tag='div' bg='default']code here ou texte[/bsbg]if(!function_exists('bsbg_sc')) {	function bsbg_sc( $atts, $content) {		extract(bbcodes_atts(array(				'tag' => '',				'bg' => '',				'more' => ''		 ), $atts));		 		$taghtml = ($tag !='') ? $tag : '';		$option = ($bg !='') ? ' bg-'.$bg : '';		$option .= ($more !='') ? ' '.$more : '';		return '<'.$taghtml.' class="'.$option.'">'.do_bbcodes($content).'</'.$taghtml.'>';	}			add_bbcodes( 'bsbg', 'bsbg_sc' );}//[bscaret]code here ou texte[/bscaret]if(!function_exists('bscaret_sc')) {	function bscaret_sc( $atts, $content="" ) {        ob_start();         ?>           <span class="caret"><?php echo do_bbcodes($content); ?></span>        <?php        return ob_get_clean();		}			add_bbcodes( 'bscaret', 'bscaret_sc' );}//[bspull-left]code here ou texte[/bspull-left]if(!function_exists('bspullleft_sc')) {	function bspullleft_sc( $atts, $content="" ) {        ob_start();         ?>           <div class="pull-left"><?php echo do_bbcodes($content); ?></div>        <?php        return ob_get_clean();		}			add_bbcodes( 'bspull-left', 'bspullleft_sc' );}//[bspull-right]code here ou texte[/bspull-right]if(!function_exists('bspullright_sc')) {	function bspullright_sc( $atts, $content="" ) {        ob_start();         ?>           <div class="pull-right"><?php echo do_bbcodes($content); ?></div>        <?php        return ob_get_clean();		}			add_bbcodes( 'bspull-right', 'bspullright_sc' );}//[bscenter-block]code here ou texte[/bscenter-block]if(!function_exists('bscenterblock_sc')) {	function bscenterblock_sc( $atts, $content="" ) {        ob_start();         ?>           <div class="center-block"><?php echo do_bbcodes($content); ?></div>        <?php        return ob_get_clean();		}			add_bbcodes( 'bscenter-block', 'bscenterblock_sc' );}//[bsclearfix xs='xs' sm='sm' md='md' lg='lg' /]if(!function_exists('bsclearfix_sc')) {	function bsclearfix_sc( $atts, $content) {		extract(bbcodes_atts(array(				'xs' => '',				'sm' => '',				'md' => '',				'lg' => ''		 ), $atts));		 		$option = ($xs !='') ? ' '.$xs.'-xs-block' : ' hidden-xs-block';		$option = ($sm !='') ? ' '.$sm.'-sm-block' : ' hidden-sm-block';		$option = ($md !='') ? ' '.$md.'-md-block' : ' hidden-md-block';		$option = ($lg !='') ? ' '.$lg.'-lg-block' : ' hidden-lg-block';		return '<div class="clearfix'.$option.'"></div>'.$content;	}			add_bbcodes( 'bsclearfix', 'bsclearfix_sc' );}/**********************Category COMPONENT********************************///input-group//[bsinput-group sign="@" type="text" placeholder="username" size="lg" /]if(!function_exists('bsinputgroup_sc')) {	function bsinputgroup_sc( $atts, $content) {		extract(bbcodes_atts(array(				'sign' => '',				'type' => '',				'placeholder' => '',				'size' => ''		 ), $atts));		 		$signs = ($sign !='') ? ' <span class="input-group-addon">'.$sign.'</span>' : '';		$types = ($type !='') ? $type : '';		$placeholders = ($placeholder !='') ? ' placeholder="'.$placeholder.'"' : '';		$sizes = ($size !='') ? ' input-group-'.$size : '';		return '<div class="input-group'.$sizes.'">					'.$signs.'					<input type="'.$types.'" class="form-control"'.$placeholders.' />				</div>'.$content;	}			add_bbcodes( 'bsinput-group', 'bsinputgroup_sc' );}//label//[bslabel more='']code or text[/bslabel]if(!function_exists('bslabel_sc')) {	function bslabel_sc( $atts, $content) {		extract(bbcodes_atts(array(				'more' => ''		 ), $atts));		 		$class = ($more !='') ? ' '.$more : '';		return '<span class="label'.$class.'">'.do_bbcodes($content).'</span>';	}			add_bbcodes( 'bslabel', 'bslabel_sc' );}//badge//[bsbadge number="150" more="" /]if(!function_exists('bsbadge_sc')) {	function bsbadge_sc( $atts, $content) {		extract(bbcodes_atts(array(				'number' => '',				'more' => ''		 ), $atts));		 		$numbers = ($number !='') ? $number : '';		$class = ($number !='') ? ' '.$more : '';		return '<span class="badge'.$class.'">'.$numbers.'</span>'.$content;	}			add_bbcodes( 'bsbadge', 'bsbadge_sc' );}//page header//[bspage-header]code or text[/bspage-header]if(!function_exists('bspageheader_sc')) {	function bspageheader_sc( $atts, $content) {        ob_start();         ?>           <div class="page-header"><?php echo do_bbcodes($content); ?></div>        <?php        return ob_get_clean();	}			add_bbcodes( 'bspage-header', 'bspageheader_sc' );}//thumbnails//[bsthumbnails link='//link.tld' alt='alt text image' size='150' /]if(!function_exists('bsthumbnails_sc')) {	function bsthumbnails_sc( $atts, $content) {		extract(bbcodes_atts(array(				'link' => '',				'image' => '',				'alt' => '',				'size' => ''		 ), $atts));		 		$links = ($link !='') ? $link : '';		$option = ($alt !='') ? ' alt="'.$alt.'"' : '';		$option .= ($size !='') ? ' style="width:'.$size.'px; height:'.$size.'px;"' : '';		$option .= ($image !='') ? ' src="'.$image.'"' : '';		return '<a href="'.$links.'" class="thumbnail"><img'.$option.'></a>'.$content;	}			add_bbcodes( 'bsthumbnails', 'bsthumbnails_sc' );}//Alert//[bsalert alert='default' other='Headline text']code here ou texte[/bsalert]if(!function_exists('bsalert_sc')) {	function bsalert_sc( $atts, $content) {		extract(bbcodes_atts(array(				'alert' => '',				'other' => ''		 ), $atts));		 		$option = ($alert !='') ? ' alert-'.$alert : '';		$option .= ($other !='') ? ' '.$other : '';		return '<div class="alert'.$option.'" role="alert">'.do_bbcodes($content).'</div>';	}			add_bbcodes( 'bsalert', 'bsalert_sc' );}//Progress bar//[bsprogresbar pourcent="50" style="default" other="" /] 50=50%if(!function_exists('bsprogresbar_sc')) {	function bsprogresbar_sc( $atts, $content) {		extract(bbcodes_atts(array(				'pourcent' => '',				'other' => '',				'style' => ''		 ), $atts));		 		$option = ($style !='') ? ' progress-bar-'.$style : '';		$option .= ($other !='') ? ' '.$other : '';		$finales = ($pourcent !='') ? $pourcent : '';		return '<div class="progress">					<div class="progress-bar '.$option.'" role="progressbar" aria-valuenow="'.$finales.'" aria-valuemin="0" aria-valuemax="100" style="width: '.$finales.'%;">						'.$finales.'%					</div>				</div>'.$content;	}			add_bbcodes( 'bsprogresbar', 'bsprogresbar_sc' );}//Panel//[bspanel panel='default' title='Headline text']code here ou texte[/bspanel]if(!function_exists('bspanel_sc')) {	function bspanel_sc( $atts, $content) {		extract(bbcodes_atts(array(				'panel' => '',				'title' => ''		 ), $atts));		 		$option = ($panel !='') ? ' panel-'.$panel : '';		$titles = ($title !='') ? $title : '';		return '<div class="panel'.$option.'">					<div class="panel-heading" itemprop="AlternativeHeadline">						'.$titles.'					</div>					<div class="panel-body">						'.do_bbcodes($content).'					</div>				</div>';	}			add_bbcodes( 'bspanel', 'bspanel_sc' );}//Well//[bswell]...[/bswell]if(!function_exists('bswell_sc')) {	function bswell_sc( $atts, $content) {        ob_start();         ?>           <div class="well"><?php echo do_bbcodes($content); ?></div>        <?php        return ob_get_clean();	}			add_bbcodes( 'bswell', 'bswell_sc' );}/**********************Category JS********************************///modal//[bsmodal label='MyLabel' modal="MyModal" title='Headline text']Code or text[/bsmodal]if(!function_exists('bsmodal_sc')) {	function bsmodal_sc( $atts, $content) {		extract(bbcodes_atts(array(				'label' => '',				'modal' => '',				'title' => ''		 ), $atts));		 		$BSLabel = ($label !='') ? 'ModalLabel-'.$label : '';		$BSModal = ($modal !='') ? ' id="'.$modal.'" ' : '';		$BSTitle = ($title !='') ? $title : '';		return '<div class="modal fade modal-lg"'.$BSModal.'tabindex="-1" role="dialog" aria-labelledby="'.$BSLabel.'" aria-hidden="true">  <div class="modal-dialog">    <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>        <h4 class="modal-title" id="'.$BSLabel.'" itemprop="AlternativeHeadline">'.$BSTitle.'</h4>      </div>      <div class="modal-body">        '.do_bbcodes($content).'      </div>      <div class="modal-footer">        &copy; <span itemprop="Date">'.date('Y').'</span> '.$_SERVER['SERVER_NAME'].'      </div>    </div>  </div></div>';	}			add_bbcodes( 'bsmodal', 'bsmodal_sc' );}//Tooltip//[bstooltip tags='button' placement='top' title='Tooltip TOP' class='btn btn-default' more='type="button"']code here ou texte[/bstooltip]if(!function_exists('bstooltip_sc')) {	function bstooltip_sc( $atts, $content) {		extract(bbcodes_atts(array(				'tags' => '', //button, a only				'placement' => '',				'title' => '',				'class' => '',				'more' => ''		 ), $atts));		 		$taghtml = ($tags !='') ? $tags : '';		$option = ($placement !='') ? ' data-placement="'.$placement.'"' : '';		$option .= ($title !='') ? ' data-original-title="'.$title.'"' : '';		$option .= ($class !='') ? ' class="'.$class.'"' : '';		$option .= ($more !='') ? ' '.$more : '';		return '<'.$taghtml.' data-toggle="tooltip"'.$option.'>'.do_bbcodes($content).'</'.$taghtml.'>';	}			add_bbcodes( 'bstooltip', 'bstooltip_sc' );}//Popover//[bspopover tags='button' placement='top' title='popover TOP'content='popover content' class='btn btn-default' more='type="button" disabled']code here ou texte[/bspopover]if(!function_exists('bspopover_sc')) {	function bspopover_sc( $atts, $content) {		extract(bbcodes_atts(array(				'tags' => '', //button, a only				'placement' => '',				'title' => '',				'content' => '',				'class' => '',				'more' => ''		 ), $atts));		 		$taghtml = ($tags !='') ? $tags : '';		$option = ($placement !='') ? ' data-placement="'.$placement.'"' : '';		$option .= ($title !='') ? ' title="'.$title.'"' : '';		$option .= ($content !='') ? ' data-content="'.$content.'"' : '';		$option .= ($class !='') ? ' class="'.$class.'"' : '';		$option .= ($more !='') ? ' '.$more : '';		return '<'.$taghtml.' data-container="body" data-toggle="popover"'.$option.'>'.do_bbcodes($content).'</'.$taghtml.'>';	}			add_bbcodes( 'bspopover', 'bspopover_sc' );}//[bscarousel]if(!function_exists('bscarousel_sc')) {	$carouselArray = array();	function bscarousel_sc( $atts, $content="" ){		global $carouselArray;		$caption = array(			'[caption]'=>'<div class="carousel-caption">',			'[/caption]'=>'</div>'		);				$params = bbcodes_atts(array(			  'id' => 'myCarousel'		 ), $atts);				do_bbcodes( $content );				$html = '<div class="carousel slide" id="' . $params['id'] . '">';		$html .= '<div class="carousel-inner">';				//carousels		foreach ($carouselArray as $key=>$carousel) {			$html .='<div class="'. ( ($key==0) ? "active" : "").' item">' . do_bbcodes( strtr($carousel['content'], $caption) ) . '</div>';		}				$html .='</div>';//end carousel-inner				$html .='<a class="carousel-control left" href="#' . $params['id'] . '" data-slide="prev"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span><span class="sr-only">Previous</span></a><a class="carousel-control right" href="#' . $params['id'] . '" data-slide="next"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span><span class="sr-only">Next</span></a>';				$html .='</div>';			$carouselArray = array();			return $html;	}		add_bbcodes( 'bscarousel', 'bscarousel_sc' );			//carousel Items	function bscarousel_item_sc( $atts, $content="" ){		global $carouselArray;		$carouselArray[] = array('content'=>$content);	}	add_bbcodes( 'bscarousel-item', 'bscarousel_item_sc' );			}//[Tab]if(!function_exists('bstab_sc')) {	$tabArray = array();	function bstab_sc( $atts, $content="" ){		global $tabArray;				$params = bbcodes_atts(array(			  'button' => 'nav-tabs',			  'id' => 'tab',			  'class'=>''		 ), $atts);				do_bbcodes( $content );				$html = '<div class="tab">';				$html .= '<div class="' . $params['class'] . '">';				//Tab Title		$html .='<ul class="nav ' . $params['button'] . '" id="' . $params['id'] . '">';		foreach ($tabArray as $key=>$tab) {			$html .='<li class="'. ( ($key==0) ? "active" : "").'"><a href="#'. Shortcodes::slug( $params['id'] ) . '-' . Shortcodes::slug($tab['title']).'" data-toggle="tab">'. $tab['title'] .'</a></li>';		}		$html .='</ul>';				//Tab Content		$html .='<div class="tab-content">';		foreach ($tabArray as $key=>$tab) {			$html .='<div class="tab-pane fade'. ( ($key==0) ? " active in" : "").'" id="'. Shortcodes::slug( $params['id'] ) . '-' . Shortcodes::slug($tab['title']).'">' . do_bbcodes($tab['content']) .'</div>';		}		$html .='</div>';				$html .='</div>';				$html .='</div>';				$tabArray = array();				return $html;	}	add_bbcodes( 'bstab', 'bstab_sc' );		//Tab Items	function bstab_item_sc( $atts, $content="" ){		global $tabArray;		$tabArray[] = array('title'=>$atts['title'], 'content'=>$content);	}	add_bbcodes( 'bstab-item', 'tab_item_sc' );	}//[Accordion]if(!function_exists('bsaccordion_sc')) {	$accordionArray = array();	function bsaccordion_sc( $atts, $content="" ){		global $accordionArray;				$params = bbcodes_atts(array(			  'id' => 'accordion1'		 ), $atts);				do_bbcodes( $content );				$html = '<div class="accordion" id="' . $params['id'] . '">';				//Accordions		foreach ($accordionArray as $key=>$accordion) {			$html .= '<div class="accordion-group">';						$html .= '<div class="accordion-heading">';			$html .= '<a class="accordion-toggle" data-toggle="collapse" data-parent="#' . $params['id'] . '" href="#'.Shortcodes::slug($accordion['title']).'">';			$html .= $accordion['title'];			$html .= '</a>';			$html .= '</div>';//end Accordion Heading						$html .= '<div id="'.Shortcodes::slug($accordion['title']).'" class="accordion-body collapse' . ( ($key==0) ? " in" : "") . '">';			$html .= '<div class="accordion-inner">';			$html .= do_bbcodes($accordion['content']);			$html .= '</div>';			$html .= '</div>';//end Accordion Content						$html .= '</div>';//end accordion group					}				$html .='</div>';			$accordionArray = array();			return $html;	}		add_bbcodes( 'bsaccordion', 'bsaccordion_sc' );			//Accordion Items	function bsaccordion_item_sc( $atts, $content="" ){		global $accordionArray;		$accordionArray[] = array('title'=>$atts['title'], 'content'=>$content);	}	add_bbcodes( 'bsaccordion-item', 'bsaccordion_item_sc' );			}/**** *  * More information on http://getbootstrap.com/ latest version *****/